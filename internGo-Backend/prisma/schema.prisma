generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Users{
    id Int @id @default(autoincrement())
    roleId Int @default(1)
    name String
    password String
    email String @unique
    gender String?
    employeeId String?
    skills String[]
    personalEmail String? @unique
    currentAddress String?
    permanentAddress String?
    profilePhoto String?
    resume String?
    batch String?
    year Int?
    designation String?
    phone_no String?
    education Json?
    bankDetails Json?
    certificates_submission_status Boolean?
    status Status?
    dateOfBirth DateTime?
    dateOfJoining DateTime?
    bloodGroup String?
    phase String?
    daysWorked Int @default(0)
    assets Assets[] @relation("UserAssets")
    role Roles @relation("UserRole",fields:[roleId],references:[id])
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    profilePercentage Int? @default(0)
}

enum Status{
  ACTIVE
  NOT_ACTIVE
  EXAMINATION
  SHADOWING
  DEPLOYED
}

model Roles{
    id Int @id @default(autoincrement())
    roleName String
    description String
    permissions Json
    createdAt DateTime @default(now())

    users Users[] @relation("UserRole")
}

model Assets{
    id Int @id @default(autoincrement())
    userId Int
    user Users @relation("UserAssets",fields:[userId],references:[id])
    assetType String
    assetName String
    givenOn DateTime
    returnedOn DateTime?
}

model Plans